<?xml version="1.0"?>
<project name="pathvisio-core" default="jar" basedir=".">

	<import file="../../build-common.xml" />

	<property name="pathvisio.version" value="2.0.11"/>
	<property name="svn.exec.svnversion" value="svnversion"/>
	<property name="jar.name" value="org.pathvisio.core.jar"/>
	
	<target name="svnversion">
		<exec executable="${svn.exec.svnversion}" outputproperty="subversion_revision" failifexecutionfails="false">
			<arg line="-n ."/>
		</exec>
	</target>
	
	<target name="prepare" depends="svnversion">
		<echo file="src/org/pathvisio/core/Revision.java">
package org.pathvisio.core;

// Do not modify, this file is automatically generated
public class Revision
{
	public static final String REVISION = "${subversion_revision}";
	public static final String VERSION = "${pathvisio.version}";
}
		</echo>
	</target>

	<path id="project.class.path">
	  <fileset dir="../../lib">
		<include name="org.pathvisio.batik.*.jar"/>
		<include name="org.pathvisio.pdftranscoder.jar"/>
		<include name="org.pathvisio.xml.apis.jar"/>
		<include name="org.pathvisio.xml.apis.ext.jar"/>
		<include name="com.springsource.org.jdom-1.1.0.jar"/>
		<include name="org.bridgedb.jar"/>
		<include name="org.bridgedb.bio.jar"/>
		<include name="org.bridgedb.rdb.jar"/>
	  </fileset>
	</path>

	<path id="test.class.path">
	  <fileset dir="../../lib">
		<include name="junit.jar"/>
	    <include name="derby.jar"/>
	  </fileset>
	</path>

</project>
